# WhatsApp SimHub Plugin - Installation Guide

## First Time Setup

The plugin will automatically create and install everything!

### Required Steps:

1. **Install Node.js** (ONE TIME ONLY)
   - Download from: https://nodejs.org/
   - Install the LTS version
   - Restart computer after installation

2. **Copy Plugin DLL**
   - Copy `WhatsAppSimHubPlugin.dll` to SimHub installation folder

3. **Start SimHub**
   - Open SimHub
   - Go to WhatsApp plugin
   - Click "Reconnect"
   - **Wait 2-3 minutes** on first run (automatic dependency installation)
   - Scan QR code with your phone

### What Happens Automatically:
✅ Creates folder structure in `%AppData%\SimHub\WhatsAppPlugin\`
✅ Creates `whatsapp-client.js` script
✅ Creates `package.json`
✅ **Runs `npm install` automatically** (first run only)
✅ Starts WhatsApp connection

### First Run Messages:
You'll see these messages during first setup:
- "Installing WhatsApp dependencies... This may take 2-3 minutes"
- "Running npm install... Please wait."
- "Dependencies installed successfully!"

**This only happens ONCE!** Next time it starts instantly.

### Troubleshooting:

**"Node.js not found"**
- Install Node.js from nodejs.org
- Restart computer
- Restart SimHub

**"npm not found"**
- Node.js installation includes npm
- Restart computer after installing Node.js

**"npm install failed"**
- Open Command Prompt as Administrator
- Go to: `cd %AppData%\SimHub\WhatsAppPlugin\scripts\`
- Run: `npm install` manually

**"Script not running"**
- Check logs at: `%AppData%\SimHub\WhatsAppPlugin\logs\messages.log`

### Where to find logs:
`%AppData%\SimHub\WhatsAppPlugin\logs\messages.log`

This file shows:
- Plugin initialization
- npm install progress
- WhatsApp connection status
- All messages received
- Filtered vs accepted messages
- Why messages were ignored
